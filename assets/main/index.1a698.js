window.__require=function t(e,o,i){function r(s,c){if(!o[s]){if(!e[s]){var a=s.split("/");if(a=a[a.length-1],!e[a]){var l="function"==typeof __require&&__require;if(!c&&l)return l(a,!0);if(n)return n(a,!0);throw new Error("Cannot find module '"+s+"'")}s=a}var u=o[s]={exports:{}};e[s][0].call(u.exports,function(t){return r(e[s][1][t]||t)},u,u.exports,t,e,o,i)}return o[s].exports}for(var n="function"==typeof __require&&__require,s=0;s<i.length;s++)r(i[s]);return r}({BombBooster:[function(t,e,o){"use strict";cc._RF.push(e,"d0834XAlahKxLt1abifpFin","BombBooster");var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.BombBooster=void 0;var n=t("./Booster"),s=t("./BoosterResult"),c=function(t){function e(e,o){void 0===o&&(o=2);var i=t.call(this,e)||this;return i.requiredTiles=1,i.radius=o,i}return r(e,t),e.prototype.getBoosterResult=function(t,e){for(var o=t[0],i=[o],r=-this.radius;r<=this.radius;r++)for(var n=-this.radius;n<=this.radius;n++){var c=o.x+r,a=o.y+n;0===r&&0===n||Math.sqrt(r*r+n*n)<=this.radius&&this.isValidCoordinate(c,a,e)&&i.push(e[c][a])}return{type:s.BoosterActionType.DESTROY,tiles:i}},e}(n.Booster);o.BombBooster=c,cc._RF.pop()},{"./Booster":"Booster","./BoosterResult":"BoosterResult"}],BoosterComponent:[function(t,e,o){"use strict";cc._RF.push(e,"a5cc0REVihGmre2BHc4nVri","BoosterComponent");var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),n=this&&this.__decorate||function(t,e,o,i){var r,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(n<3?r(s):n>3?r(e,o,s):r(e,o))||s);return n>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0}),o.BoosterButton=o.BoosterType=void 0;var s=t("../Game/GameController"),c=t("./BombBooster"),a=t("./SwapBooster"),l=cc._decorator,u=l.ccclass,h=l.property;o.BoosterType=cc.Enum({BOMB:0,SWAP:1});var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.boosterType=o.BoosterType.BOMB,e.initialCount=3,e.radius=2,e.counterLabel=null,e.gameController=null,e.boosterLogic=null,e._isActive=!1,e}return r(e,t),e.prototype.onLoad=function(){switch(this.boosterType){case o.BoosterType.BOMB:this.boosterLogic=new c.BombBooster(this.initialCount,this.radius);break;case o.BoosterType.SWAP:this.boosterLogic=new a.SwapBooster(this.initialCount);break;default:return void cc.error("Unsupported booster type:",this.boosterType)}this.node.on(cc.Node.EventType.TOUCH_END,this.onClick,this),this.updateView()},e.prototype.onClick=function(){!this._isActive&&this.boosterLogic.canUse()&&(this.playClickAnimation(),this.gameController.activateBooster(this))},e.prototype.setActiveState=function(t){this._isActive=t,this.node.opacity=t?150:255},e.prototype.onBoosterUsed=function(){this.setActiveState(!1),this.updateView()},e.prototype.getLogic=function(){return this.boosterLogic},e.prototype.updateView=function(){var t=this.boosterLogic.getCount();this.counterLabel&&(this.counterLabel.string=t.toString());var e=t<=0;this.node.opacity=e?50:255},e.prototype.playClickAnimation=function(){var t=this.node.scale,e=cc.scaleTo(.1,1.1*t),o=cc.scaleTo(.1,t),i=cc.sequence(e,o);this.node.runAction(i)},e.prototype.onDestroy=function(){this.node.off(cc.Node.EventType.TOUCH_END,this.onClick,this)},n([h({type:o.BoosterType})],e.prototype,"boosterType",void 0),n([h(cc.Integer)],e.prototype,"initialCount",void 0),n([h(cc.Integer)],e.prototype,"radius",void 0),n([h(cc.Label)],e.prototype,"counterLabel",void 0),n([h(s.default)],e.prototype,"gameController",void 0),n([u],e)}(cc.Component);o.BoosterButton=p,cc._RF.pop()},{"../Game/GameController":"GameController","./BombBooster":"BombBooster","./SwapBooster":"SwapBooster"}],BoosterResult:[function(t,e,o){"use strict";cc._RF.push(e,"ff3749S+wRHS7P/3tPOFIjM","BoosterResult"),Object.defineProperty(o,"__esModule",{value:!0}),o.BoosterActionType=void 0,function(t){t[t.DESTROY=0]="DESTROY",t[t.SWAP=1]="SWAP"}(o.BoosterActionType||(o.BoosterActionType={})),cc._RF.pop()},{}],Booster:[function(t,e,o){"use strict";cc._RF.push(e,"5e963mWaKZHurNwtHW1SEaG","Booster"),Object.defineProperty(o,"__esModule",{value:!0}),o.Booster=void 0;var i=function(){function t(t){this.currentCount=t}return t.prototype.getCount=function(){return this.currentCount},t.prototype.canUse=function(){return this.currentCount>0},t.prototype.execute=function(t,e){return!this.canUse()||t.length<this.requiredTiles?null:(this.currentCount--,this.getBoosterResult(t,e))},t.prototype.isValidCoordinate=function(t,e,o){return t>=0&&t<o.length&&e>=0&&e<o[0].length},t}();o.Booster=i,cc._RF.pop()},{}],GameController:[function(t,e,o){"use strict";cc._RF.push(e,"8b2dapI2yNCKKtGYH3dtWxH","GameController");var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),n=this&&this.__decorate||function(t,e,o,i){var r,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(n<3?r(s):n>3?r(e,o,s):r(e,o))||s);return n>3&&s&&Object.defineProperty(e,o,s),s},s=this&&this.__awaiter||function(t,e,o,i){return new(o||(o=Promise))(function(r,n){function s(t){try{a(i.next(t))}catch(e){n(e)}}function c(t){try{a(i.throw(t))}catch(e){n(e)}}function a(t){var e;t.done?r(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(s,c)}a((i=i.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var o,i,r,n,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return n={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function c(t){return function(e){return a([t,e])}}function a(n){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,i&&(r=2&n[0]?i.return:n[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,n[1])).done)return r;switch(i=0,r&&(n=[2&n[0],r.value]),n[0]){case 0:case 1:r=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,i=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!r||n[1]>r[0]&&n[1]<r[3])){s.label=n[1];break}if(6===n[0]&&s.label<r[1]){s.label=r[1],r=n;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(n);break}r[2]&&s.ops.pop(),s.trys.pop();continue}n=e.call(t,s)}catch(c){n=[6,c],i=0}finally{o=r=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Boosters/BoosterResult"),l=t("../Objects/Tile/Tile"),u=t("../Utils/GridMaster"),h=t("../Utils/Utils"),p=cc._decorator,f=p.ccclass,d=p.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tilePrefab=null,e.gameArea=null,e.scoreLabel=null,e.movesLabel=null,e.winPanel=null,e.losePanel=null,e.fieldWidth=8,e.fieldHeight=10,e.tileSizeW=50,e.tileSizeH=55,e.targetScore=1e3,e.maxMoves=30,e.tilesCount=5,e.countGroup=2,e.lives=3,e.burnDuration=.2,e.dropDuration=.2,e.insertDuration=.2,e.activeBoosterButton=null,e.selectedTilesForBooster=[],e.gm=null,e.score=0,e.moves=0,e.gameOver=!1,e.currentLives=3,e.animationDuration=.2,e.isLocking=!1,e}return r(e,t),e.prototype.onLoad=function(){this.initGame()},e.prototype.initGame=function(){this.isLocking=!1,this.score=0,this.animationDuration=this.burnDuration+this.dropDuration+this.insertDuration,this.moves=this.maxMoves,this.currentLives=this.lives,this.gameArea.removeAllChildren(),this.activeBoosterButton=null,this.gameOver=!1,this.gm=new u.GridMaster(this.fieldWidth,this.fieldHeight),this.hideEndGameUI(),this.createGameField(),this.updateUI(),this.checkGameOverThrottle=h.debounce(this.checkGameOverCondition.bind(this),this.animationDuration)},e.prototype.activateBooster=function(t){this.activeBoosterButton&&this.activeBoosterButton.setActiveState(!1),this.activeBoosterButton=t,this.activeBoosterButton.setActiveState(!0),this.selectedTilesForBooster=[]},e.prototype.hideEndGameUI=function(){this.showLosePanel(!1),this.showWinPanel(!1)},e.prototype.createGameField=function(){this.gameArea.removeAllChildren();for(var t=-(this.fieldWidth-1)*this.tileSizeW/2,e=-(this.fieldHeight-1)*this.tileSizeH/2,o=0;o<this.fieldWidth;o++)for(var i=0;i<this.fieldHeight;i++){var r=this.createTile(o,i,t,e);this.gm.setCell(o,i,r)}},e.prototype.createTile=function(t,e,o,i){var r=cc.instantiate(this.tilePrefab),n=r.getComponent(l.default),s=Math.floor(Math.random()*this.tilesCount),c=o+t*this.tileSizeW,a=i+e*this.tileSizeH;return n.init(t,e,s,this),r.setPosition(c,a),this.gameArea.addChild(r),n},e.prototype.onTileClicked=function(t){return s(this,void 0,void 0,function(){var e,o,i,r;return c(this,function(n){switch(n.label){case 0:return this.gameOver?[2]:this.activeBoosterButton?(this.selectedTilesForBooster.includes(t)||this.selectedTilesForBooster.push(t),e=this.activeBoosterButton.getLogic(),o=e.requiredTiles,this.selectedTilesForBooster.length!==o?[3,2]:(i=e.execute(this.selectedTilesForBooster,this.gm.getGrid()),[4,this.processBoosterResult(i)])):[3,3];case 1:n.sent(),n.label=2;case 2:return[3,5];case 3:return(r=this.gm.getConnectedCells(t.x,t.y)).length<this.countGroup?[2]:(this.calculateScore(r.length),this.checkWinCondition(),[4,this.destroyTiles(r)]);case 4:n.sent(),n.label=5;case 5:return this.moves--,this.checkGameOverThrottle(),this.updateUI(),[2]}})})},e.prototype.processBoosterResult=function(t){return s(this,void 0,void 0,function(){var e,o,i;return c(this,function(r){switch(r.label){case 0:if(!t)return[2];switch(t.type){case a.BoosterActionType.DESTROY:return[3,1];case a.BoosterActionType.SWAP:return[3,3]}return[3,5];case 1:return this.calculateScore(t.tiles.length),this.checkWinCondition(),[4,this.destroyTiles(t.tiles)];case 2:return r.sent(),[3,5];case 3:return e=t.tiles,o=e[0],i=e[1],[4,this.swapTiles(o,i)];case 4:return r.sent(),[3,5];case 5:return this.activeBoosterButton.onBoosterUsed(),this.activeBoosterButton=null,this.selectedTilesForBooster=[],[2]}})})},e.prototype.swapTiles=function(t,e){return s(this,void 0,Promise,function(){var o,i,r,n;return c(this,function(){return o=t.x,i=t.y,r=e.x,n=e.y,t.setCoordinates(r,n),e.setCoordinates(o,i),this.gm.setCell(o,i,e),this.gm.setCell(r,n,t),[2,Promise.all([this.animateTileToPosition(t,this.dropDuration),this.animateTileToPosition(e,this.dropDuration)])]})})},e.prototype.destroyTiles=function(t){return s(this,void 0,Promise,function(){return c(this,function(e){switch(e.label){case 0:return 0===t.length?[2]:(this.isLocking=!0,[4,this.burnTiles(t)]);case 1:return e.sent(),[4,this.dropTiles()];case 2:return e.sent(),[4,this.fillEmptySpaces()];case 3:return e.sent(),this.isLocking=!1,[2]}})})},e.prototype.burnTiles=function(t){return s(this,void 0,Promise,function(){var e,o,i,r,n,s=this;return c(this,function(c){switch(c.label){case 0:for(e=[],o=function(t){var o=new Promise(function(e){cc.tween(t.node).to(s.burnDuration,{opacity:0,scale:0}).call(function(){t.node.destroy(),s.gm.setCell(t.x,t.y,null),e()}).start()});e.push(o)},i=0,r=t;i<r.length;i++)n=r[i],o(n);return[4,Promise.all(e)];case 1:return c.sent(),[2]}})})},e.prototype.dropTiles=function(){return s(this,void 0,Promise,function(){var t,e,o,i,r;return c(this,function(n){switch(n.label){case 0:for(t=[],e=0;e<this.fieldWidth;e++)for(o=0,i=0;i<this.fieldHeight;i++)null!==this.gm.getCell(e,i)&&(o!==i&&(this.gm.setCell(e,o,this.gm.getCell(e,i)),this.gm.setCell(e,i,null),(r=this.gm.getCell(e,o)).setCoordinates(e,o),t.push(this.animateTileToPosition(r,this.dropDuration))),o++);return[4,Promise.all(t)];case 1:return n.sent(),[2]}})})},e.prototype.fillEmptySpaces=function(){return s(this,void 0,void 0,function(){var t,e,o,i,r,n;return c(this,function(s){switch(s.label){case 0:for(t=[],e=-(this.fieldWidth-1)*this.tileSizeW/2,o=-(this.fieldHeight-1)*this.tileSizeH/2,i=0;i<this.fieldWidth;i++)for(r=0;r<this.fieldHeight;r++)null===this.gm.getCell(i,r)&&(n=this.createTile(i,r,e,o),this.gm.setCell(i,r,n),n&&(n.node.setPosition(e+i*this.tileSizeW,o+this.fieldHeight*this.tileSizeH),t.push(this.animateTileToPosition(n,this.insertDuration))));return[4,Promise.all(t)];case 1:return s.sent(),[2]}})})},e.prototype.animateTileToPosition=function(t,e){return s(this,void 0,Promise,function(){var o,i,r;return c(this,function(){return o=-(this.fieldHeight-1)*this.tileSizeH/2,i=-(this.fieldWidth-1)*this.tileSizeW/2,r=cc.v2(i+t.x*this.tileSizeW,o+t.y*this.tileSizeH),[2,new Promise(function(o){cc.tween(t.node).to(e,{position:r}).call(function(){return o()}).start()})]})})},e.prototype.shuffleTiles=function(){return s(this,void 0,void 0,function(){var t,e,o,i;return c(this,function(r){switch(r.label){case 0:for(this.gm.shuffle(this.countGroup),t=[],e=0;e<this.fieldWidth;e++)for(o=0;o<this.fieldHeight;o++)(i=this.gm.getCell(e,o))&&t.push(this.animateTileToPosition(i,this.dropDuration));return[4,Promise.all(t)];case 1:return r.sent(),[2]}})})},e.prototype.calculateScore=function(t){var e=10*t*Math.max(1,t-1);this.score+=e},e.prototype.updateUI=function(){this.scoreLabel&&(this.scoreLabel.string=this.score+"/"+this.targetScore),this.movesLabel&&(this.movesLabel.string=this.moves.toString())},e.prototype.checkWinCondition=function(){this.score>=this.targetScore&&(this.gameOver=!0,this.showWinPanel(!0))},e.prototype.checkGameOverCondition=function(){return s(this,void 0,void 0,function(){var t;return c(this,function(e){switch(e.label){case 0:return this.gameOver||this.isLocking?[2]:!(t=this.gm.hasValidMoves(this.countGroup))&&this.currentLives>0?(this.currentLives--,[4,this.shuffleTiles()]):[3,2];case 1:return e.sent(),[2];case 2:return(!t||this.moves<=0)&&(this.gameOver=!0,this.showLosePanel(!0)),[2]}})})},e.prototype.showWinPanel=function(t){if(this.winPanel){this.winPanel.active=t;var e=this.winPanel.getChildByName("bg");cc.tween(e).to(1,{opacity:t?100:0}).start()}},e.prototype.showLosePanel=function(t){if(this.losePanel){this.losePanel.active=t;var e=this.losePanel.getChildByName("bg");cc.tween(e).to(1,{opacity:t?100:0}).start()}},e.prototype.restartGame=function(){this.initGame()},n([d(cc.Prefab)],e.prototype,"tilePrefab",void 0),n([d(cc.Node)],e.prototype,"gameArea",void 0),n([d(cc.Label)],e.prototype,"scoreLabel",void 0),n([d(cc.Label)],e.prototype,"movesLabel",void 0),n([d(cc.Node)],e.prototype,"winPanel",void 0),n([d(cc.Node)],e.prototype,"losePanel",void 0),n([d(cc.Integer)],e.prototype,"fieldWidth",void 0),n([d(cc.Integer)],e.prototype,"fieldHeight",void 0),n([d(cc.Integer)],e.prototype,"tileSizeW",void 0),n([d(cc.Integer)],e.prototype,"tileSizeH",void 0),n([d(cc.Integer)],e.prototype,"targetScore",void 0),n([d(cc.Integer)],e.prototype,"maxMoves",void 0),n([d(cc.Integer)],e.prototype,"tilesCount",void 0),n([d({type:cc.Integer,tooltip:"without target tile"})],e.prototype,"countGroup",void 0),n([d(cc.Integer)],e.prototype,"lives",void 0),n([d(cc.Float)],e.prototype,"burnDuration",void 0),n([d(cc.Float)],e.prototype,"dropDuration",void 0),n([d(cc.Float)],e.prototype,"insertDuration",void 0),n([f],e)}(cc.Component);o.default=y,cc._RF.pop()},{"../Boosters/BoosterResult":"BoosterResult","../Objects/Tile/Tile":"Tile","../Utils/GridMaster":"GridMaster","../Utils/Utils":"Utils"}],GridMaster:[function(t,e,o){"use strict";cc._RF.push(e,"077b8xTIARF6rRGd04Ub99k","GridMaster"),Object.defineProperty(o,"__esModule",{value:!0}),o.GridMaster=void 0;var i=function(){function t(t,e){this.grid=[],this.width=0,this.height=0,this.shuffleAttempts=10,this.width=t,this.height=e}return t.prototype.setCell=function(t,e,o){!this.grid[t]&&(this.grid[t]=[]),o&&o.setCoordinates(t,e),this.grid[t][e]=o},t.prototype.getCell=function(t,e){return this.grid[t][e]},t.prototype.getConnectedCells=function(t,e){if(!this.isValidCoordinate(t,e))return[];var o=this.grid[t][e].value,i=new Set;return this._findConnectedGroup(t,e,o,i)},t.prototype._findConnectedGroup=function(t,e,o,i){var r=t+","+e;if(i.has(r))return[];if(!this.isValidCoordinate(t,e))return[];var n=this.grid[t][e];if(!n||n.value!==o)return[];i.add(r);for(var s=[n],c=0,a=[[0,1],[0,-1],[1,0],[-1,0]];c<a.length;c++){var l=a[c],u=l[0],h=l[1],p=this._findConnectedGroup(t+u,e+h,o,i);s=s.concat(p)}return s},t.prototype._fisherYatesShuffle=function(t){for(var e,o=t.length-1;o>0;o--){var i=Math.floor(Math.random()*(o+1));e=[t[i],t[o]],t[o]=e[0],t[i]=e[1]}},t.prototype.swapeTiles=function(t,e){var o=this.grid[t.x][t.y],i=this.grid[e.x][e.y];o.setCoordinates(e.x,e.y),i.setCoordinates(t.x,t.y),this.grid[e.x][e.y]=o,this.grid[t.x][t.y]=i},t.prototype.shuffle=function(t){void 0===t&&(t=2);for(var e=[],o=0;o<this.width;o++)for(var i=0;i<this.height;i++)e.push(this.grid[o][i]);this._fisherYatesShuffle(e);var r=0;for(o=0;o<this.width;o++)for(i=0;i<this.height;i++){var n=e[r++];n.setCoordinates(o,i),this.grid[o][i]=n}!this.hasValidMoves(t)&&this.shuffleAttempts>0&&(this.shuffleAttempts--,this.shuffle(t))},t.prototype.getGrid=function(){return this.grid},t.prototype.setGrid=function(t){this.grid=t,this.width=t.length,this.height=t[0].length},t.prototype.isValidCoordinate=function(t,e){return t>=0&&t<this.width&&e>=0&&e<this.height},t.prototype.hasValidMoves=function(t){var e=this;void 0===t&&(t=2);for(var o=Array(this.width).fill(null).map(function(){return Array(e.height).fill(!1)}),i=function(t,i,r){var n,s=[[t,i]],c=0;for(o[t][i]=!0;s.length;){var a=s.pop(),l=a[0],u=a[1];c++;for(var h=0,p=[[1,0],[-1,0],[0,1],[0,-1]];h<p.length;h++){var f=p[h],d=l+f[0],y=u+f[1];e.isValidCoordinate(d,y)&&!o[d][y]&&(null===(n=e.grid[d][y])||void 0===n?void 0:n.value)===r&&(o[d][y]=!0,s.push([d,y]))}}return c},r=0;r<this.width;r++)for(var n=0;n<this.height;n++)if(this.grid[r][n]&&!o[r][n]&&i(r,n,this.grid[r][n].value)>=t)return!0;return!1},t}();o.GridMaster=i,cc._RF.pop()},{}],SwapBooster:[function(t,e,o){"use strict";cc._RF.push(e,"a2547UBE69CUq99OPH6GIKT","SwapBooster");var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.SwapBooster=void 0;var n=t("./Booster"),s=t("./BoosterResult"),c=function(t){function e(e){var o=t.call(this,e)||this;return o.requiredTiles=2,o}return r(e,t),e.prototype.getBoosterResult=function(t){var e=t[0],o=t[1];return{type:s.BoosterActionType.SWAP,tiles:[e,o]}},e}(n.Booster);o.SwapBooster=c,cc._RF.pop()},{"./Booster":"Booster","./BoosterResult":"BoosterResult"}],Tile:[function(t,e,o){"use strict";cc._RF.push(e,"f3992EurRNBZZBjvkqpd1hc","Tile");var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),n=this&&this.__decorate||function(t,e,o,i){var r,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(n<3?r(s):n>3?r(e,o,s):r(e,o))||s);return n>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,c=s.ccclass,a=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spriteFrames=[],e.x=0,e.y=0,e.value=0,e.gameController=null,e}return r(e,t),e.prototype.onLoad=function(){this.node.on(cc.Node.EventType.TOUCH_END,this.onTileTouch,this)},e.prototype.init=function(t,e,o,i){this.x=t,this.y=e,this.value=o,this.gameController=i,this.getComponent(cc.Sprite).spriteFrame=this.spriteFrames[o]},e.prototype.setCoordinates=function(t,e){this.x=t,this.y=e},e.prototype.onTileTouch=function(){this.gameController&&!this.gameController.gameOver&&(this.playClickAnimation(),this.gameController.onTileClicked(this))},e.prototype.playClickAnimation=function(){var t=cc.scaleTo(.1,1.1),e=cc.scaleTo(.1,1),o=cc.sequence(t,e);this.node.runAction(o)},e.prototype.onDestroy=function(){this.node.off(cc.Node.EventType.TOUCH_END,this.onTileTouch,this)},n([a([cc.SpriteFrame])],e.prototype,"spriteFrames",void 0),n([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],Utils:[function(t,e,o){"use strict";cc._RF.push(e,"dd8a511uLdEb7ISt2O6JvTF","Utils"),Object.defineProperty(o,"__esModule",{value:!0}),o.debounce=void 0,o.debounce=function(t,e){var o;return void 0===e&&(e=250),function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];clearTimeout(o),o=setTimeout(function(){t.apply(void 0,i)},e)}},cc._RF.pop()},{}]},{},["BombBooster","Booster","BoosterComponent","BoosterResult","SwapBooster","GameController","Tile","GridMaster","Utils"]);